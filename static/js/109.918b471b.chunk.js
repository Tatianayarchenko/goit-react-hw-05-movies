"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[109],{7417:function(r,e,n){n.d(e,{IQ:function(){return p},Pg:function(){return f},Jh:function(){return l},Df:function(){return i},z1:function(){return s}});var t=n(5861),a=n(7757),u=n.n(a),c=n(4569),o=n.n(c)().create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"1d1120e9d6d730509fa5db5176245d73",language:"en-US",include_adult:!1}}),i=function(){var r=(0,t.Z)(u().mark((function r(){var e;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.get("/trending/movie/day");case 2:return e=r.sent,r.abrupt("return",e.data.results);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),s=function(){var r=(0,t.Z)(u().mark((function r(e){var n;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.get("/search/movie",{params:{query:e}});case 2:return n=r.sent,r.abrupt("return",n.data.results);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),f=function(){var r=(0,t.Z)(u().mark((function r(e){var n;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.get("/movie/".concat(e));case 2:return n=r.sent,r.abrupt("return",n.data);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),p=function(){var r=(0,t.Z)(u().mark((function r(e){var n;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.get("/movie/".concat(e,"/credits"));case 2:return n=r.sent,r.abrupt("return",n.data.cast);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),l=function(){var r=(0,t.Z)(u().mark((function r(e){var n;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.get("/movie/".concat(e,"/reviews"));case 2:return n=r.sent,r.abrupt("return",n.data.results);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},3174:function(r,e,n){n.d(e,{O:function(){return p}});var t,a,u=n(168),c=n(501),o=n(6031),i=(0,o.ZP)(c.OL)(t||(t=(0,u.Z)(["\n  display: block;\n  color: #000000;\n  text-decoration: none;\n  :hover {\n    color: #bf2155;\n    text-decoration: underline;\n  }\n"]))),s=o.ZP.ul(a||(a=(0,u.Z)(["\n  padding: 0;\n"]))),f=n(184),p=function(r){var e=r.films,n=r.location;return(0,f.jsx)(s,{children:e.map((function(r){return(0,f.jsx)(i,{to:"/movies/".concat(r.id),state:{from:n},children:r.title},r.id)}))})}},4109:function(r,e,n){n.r(e),n.d(e,{default:function(){return x}});var t=n(5861),a=n(885),u=n(7757),c=n.n(u),o=n(6615),i=n(2791),s=n(501),f=n(6871),p=n(7417),l=n(5705),d=n(6066),h=(n(5462),n(184)),m=function(r){var e=r.onSubmit;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(l.J9,{initialValues:{searchQuery:""},onSubmit:function(r,n){var t=r.searchQuery,a=n.resetForm;if(""===t.trim())return d.Am.error("Please, enter a request.");e(t),a()},children:(0,h.jsxs)(l.l0,{children:[(0,h.jsx)(l.gN,{type:"text",autoComplete:"off",name:"searchQuery",autoFocus:!0,placeholder:"Search movie"}),(0,h.jsx)("button",{type:"submit",children:"Search"})]})})})},v=n(3174),x=function(){var r,e=(0,s.lr)(),n=(0,a.Z)(e,2),u=n[0],l=n[1],x=(0,i.useState)([]),y=(0,a.Z)(x,2),g=y[0],b=y[1],w=null!==(r=u.get("query"))&&void 0!==r?r:"",k=(0,f.TH)();(0,i.useEffect)((function(){try{var r=function(){var r=(0,t.Z)(c().mark((function r(){var e;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,p.z1)(w);case 2:if(e=r.sent,b(e),0!==e.length){r.next=6;break}return r.abrupt("return",d.Am.error("Sorry, there are no movies matching your search query. Please try again."));case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();if(""===w)return;r()}catch(e){d.Am.error("Something went wrong. Please try again.")}}),[w]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m,{value:w,onSubmit:function(r){l(""!==r?{query:r}:{})}}),(0,h.jsx)(i.Suspense,{fallback:(0,h.jsx)(o.g,{}),children:g&&(0,h.jsx)(v.O,{films:g,location:k})})]})}}}]);
//# sourceMappingURL=109.918b471b.chunk.js.map